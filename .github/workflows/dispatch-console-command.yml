name: Dispatch Console Commands

on:
  workflow_dispatch:
    inputs:
      command:
        description: Console Command to run
        default: database-health-check
        type: choice
        options:
          - database-health-check
          - update-elections
          - update-candidates-current
          - update-candidates-past
          - update-candidates-info
          - update-transactions-current
          - update-transactions-past
          - zip-codes
          - jurisdiction-zip-codes
          - update-zip-codes
          - initialize-data

      environment:
        description: Environment
        default: staging
        type: choice
        options:
          - staging
          - production

jobs:
  dispatch-console-command:
    uses: ./.github/workflows/runnable-console-command.yml
    with:
      command: ${{ inputs.command }}
      environment: ${{ inputs.environment }}
    secrets: inherit
